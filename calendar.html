<!DOCTYPE html>

	


<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
	<title>strava â€“ Cristian Rus</title>




	</head>
	
	<body>

		<h1 class="title"><a class="titlelink" href="/">Cristian Rus</a> </h1>
			<p class="sub">design & human behaviour<p>

 






    <h1>Strava Athlete Profile with Workouts</h1>
    <div id="athlete-info"></div>
    <h2>Recent Workouts</h2>
    <ul id="workouts-list"></ul>

    <script>
        // Function to fetch athlete data from Strava API
        function fetchAthleteData() {
            const accessToken = '74c732a6f63b34bff4d0f520ed670526717a6706';

            // Fetch athlete data
            fetch('https://www.strava.com/api/v3/athlete', {
                headers: {
                    'Authorization': 'Bearer ' + accessToken
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to fetch athlete data');
                }
                return response.json();
            })
            .then(data => {
                const athleteInfo = document.getElementById('athlete-info');
                athleteInfo.innerHTML = `
                    <p>Name: ${data.firstname} ${data.lastname}</p>
                    <p>Username: ${data.username}</p>
                    <p>Email: ${data.email}</p>
                    <p>City: ${data.city}</p>
                    <p>Country: ${data.country}</p>
                    <p>Sex: ${data.sex}</p>
                    <p>Weight: ${data.weight} kg</p>
                `;

                // Fetch recent workouts
                fetchWorkouts(accessToken);
            })
            .catch(error => console.error('Error fetching athlete data:', error));
        }

        // Function to fetch recent workouts from Strava API
        function fetchWorkouts(accessToken) {
            fetch('https://www.strava.com/api/v3/athlete/activities', {
                headers: {
                    'Authorization': 'Bearer ' + accessToken
                }
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to fetch workouts: ' + response.status);
                }
                return response.json();
            })
            .then(workouts => {
                console.log('Workouts:', workouts);
                const workoutsList = document.getElementById('workouts-list');
                workouts.forEach(workout => {
                    const li = document.createElement('li');
                    li.textContent = `${workout.type} - Duration: ${formatDuration(workout.elapsed_time)} - Date: ${formatDate(workout.start_date)}`;
                    workoutsList.appendChild(li);
                });
            })
            .catch(error => console.error('Error fetching workouts:', error));
        }

        // Function to format duration from seconds to HH:MM:SS
        function formatDuration(durationInSeconds) {
            const hours = Math.floor(durationInSeconds / 3600);
            const minutes = Math.floor((durationInSeconds % 3600) / 60);
            const seconds = durationInSeconds % 60;
            return `${hours}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Function to format date to MM/DD/YYYY
        function formatDate(dateString) {
            const date = new Date(dateString);
            return `${date.getMonth() + 1}/${date.getDate()}/${date.getFullYear()}`;
        }

        // Call fetchAthleteData function when the page loads
        window.onload = fetchAthleteData;
    </script>







 
</body>



	

</html>
	