<!DOCTYPE html>

	


<html lang="en">
	<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="shortcut icon" type="image/png" href="images/favicon.png"/>
	<title>now – Cristian Rus</title>




	</head>
	
	<body>

		<h1 class="title"><a class="titlelink" href="/">Cristian Rus</a> </h1>
			<p class="sub">design & human behaviour<p>




				<table id="animated-table">

                   
				  <tr>
				    <th>age</td>
				    <td><span id="counter"></span></td>
				  </tr>

				  <tr>
				    <th>location</td>
				    <td><span class="pulse">Auckland</span></td>
				  </tr>
				  <tr>
				    <th>weather</td>
				    <td><span id="weatherInfo"></span></td>
				  </tr>
				  


                 <tr>
                    <th><br></td>
                    <td></td>
                  </tr>

				  <tr>
				    <th>last workout</td>
				    <td id="last-item"></td>
				  </tr>

				  <tr>
				    <th>top song</td>
				    <td id="top-song"></td>
				  </tr>
				  
				  <tr>
				    <th>last movie</td>
				    <td id="last-movie"></td>
				  </tr>
				  <tr>
				    <th>last book</td>
				    <td id="last-book"></td>
				  </tr>

				  
			
				</table>


<script type="text/javascript">document.addEventListener("DOMContentLoaded", function() {
    // Get all table rows
    const rows = document.querySelectorAll("#animated-table tr");

    // Loop through each row and add a class to trigger the animation
    rows.forEach((row, index) => {
        setTimeout(() => {
            row.style.opacity = "1";
        }, index * 70); // Delay each row by 0.3 seconds
    });
});
</script>


<script>
    (function() {
        const lastFmApiKey = 'b1181111f4966c86cd00c3ef5fc59a55'; // Replace this with your Last.fm API key
        const username = 'cristianrus4'; // Replace this with your Last.fm username

        // Get the date 7 days ago in UNIX timestamp format
        const last7DaysTimestamp = Math.floor((new Date().getTime() - (7 * 24 * 60 * 60 * 1000)) / 1000);

        // API endpoint to get top tracks for a user in the last 7 days
        const apiUrl = `https://ws.audioscrobbler.com/2.0/?method=user.gettoptracks&user=${username}&api_key=${lastFmApiKey}&format=json&limit=1&from=${last7DaysTimestamp}`;

        // Fetch the top track from the last 7 days
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                // Check if data contains tracks
                if (data && data.toptracks && data.toptracks.track && data.toptracks.track.length > 0) {
                    // Get the top track
                    const topTrack = data.toptracks.track[0];

                    // Extract track details
                    const artist = topTrack.artist.name;
                    const trackName = topTrack.name;
                    const playCount = topTrack.playcount;

                    // Display top track
                    const topSongElement = document.getElementById('top-song');
                    topSongElement.innerHTML = `
                         <em>${trackName}</em> by ${artist}
                    `;
                } else {
                    console.error('No top tracks found for the user in the last 7 days.');
                }
            })
            .catch(error => {
                console.error('Error fetching top tracks:', error);
            });
    })();
</script>
















<div style="display: none;">



<!-- Script for the first RSS feed (Letterboxd) -->
<div id="last-movie">
    <!-- Last movie details will be inserted here -->
</div>

<script>
    (function() {
        // Proxy URL to fetch the RSS feed
        const proxyUrl = 'https://api.rss2json.com/v1/api.json?rss_url=';

        // Fetch the RSS feed using the proxy
        fetch(proxyUrl + encodeURIComponent('https://letterboxd.com/cristianrus4/rss/'))
            .then(response => response.json())
            .then(data => {
                // Check if data contains items
                if (data.items && data.items.length > 0) {
                    // Get the last movie
                    const lastMovie = data.items[0];

                    // Extract movie details
                    const title = lastMovie.title;

                    // Display last movie watched
                    const lastMovieElement = document.getElementById('last-movie');
                    lastMovieElement.innerHTML = `${title}`;
                } else {
                    console.error('RSS feed data is empty or invalid');
                }
            })
            .catch(error => {
                console.error('Error fetching RSS feed:', error);
            });
    })();
</script>

<!-- Script for the second RSS feed (FetchRSS) -->
<div id="last-item">
    <!-- Last item details will be inserted here -->
</div>

<script>
    (function() {
        // Proxy URL to fetch the RSS feed
        const proxyUrl = 'https://api.rss2json.com/v1/api.json?rss_url=';

        // Fetch the RSS feed using the proxy
        fetch(proxyUrl + encodeURIComponent('https://fetchrss.com/rss/66176ae481670c3fad16444266176aac58588e69ae5b30a2.xml'))
            .then(response => response.json())
            .then(data => {
                // Check if data contains items
                if (data.items && data.items.length > 0) {
                    // Get the last item
                    const lastItem = data.items[0];

                    // Extract item details
                    const title = lastItem.title;
                    let description = lastItem.description.replace(/<[^>]*>?/gm, ''); // Remove HTML tags from description
                    const pubDate = new Date(lastItem.pubDate);

                    // Remove unwanted text from description
                    description = description.replace("(Feed generated with FetchRSS)", "");

                    // Convert time to total minutes
                    const timeParts = description.trim().split(":");
                    const hours = parseInt(timeParts[0]);
                    const minutes = parseInt(timeParts[1]);
                    const seconds = parseInt(timeParts[2]);
                    const totalMinutes = hours * 60 + minutes + Math.round(seconds / 60);

                    // Display last item with time converted to total minutes
                    const lastItemElement = document.getElementById('last-item');
                    lastItemElement.innerHTML = `
                        ${title} for ${totalMinutes} minutes
                    `;
                } else {
                    console.error('RSS feed data is empty or invalid');
                }
            })
            .catch(error => {
                console.error('Error fetching RSS feed:', error);
            });
    })();
</script>


<!-- Script for the third RSS feed (Goodreads) -->
<div id="last-book">
    <!-- Last book details will be inserted here -->
</div>
<script>
        (function() {
            // Proxy URL to fetch the RSS feed
            const proxyUrl = 'https://api.rss2json.com/v1/api.json?rss_url=';

            // Fetch the RSS feed using the proxy
            fetch(proxyUrl + encodeURIComponent('https://www.goodreads.com/review/list_rss/74821928?key=camdfkmNuO8PqylPKlVe_AckSkL5KnbljWIRS8Dd_HO_Nq_m&shelf=read'))
                .then(response => response.json())
                .then(data => {
                    // Check if data contains items
                    if (data.items && data.items.length > 0) {
                        // Find the most recent book by comparing publication dates
                        let mostRecentBook = data.items[0];
                        data.items.forEach(item => {
                            if (new Date(item.pubDate) > new Date(mostRecentBook.pubDate)) {
                                mostRecentBook = item;
                            }
                        });

                        // Extract book details
                        const title = mostRecentBook.title;
                        let author = '';

                        // Search for author information in the description
                        const description = mostRecentBook.description;
                        const authorMatch = description.match(/author:\s*(.*?)<br/);
                        if (authorMatch && authorMatch.length === 2) {
                            author = authorMatch[1];
                        }

                        // Display last book read
                        const lastBookElement = document.getElementById('last-book');
                        lastBookElement.innerHTML = `<em>${title}</em> by ${author}`;
                    } else {
                        console.error('RSS feed data is empty or invalid');
                    }
                })
                .catch(error => {
                    console.error('Error fetching RSS feed:', error);
                });
        })();
    </script>




<p>Years: <span id="counter"></span></p>



 <p>Location: <span class="pulse">Auckland</span></p>

<div id="weatherInfo"></div>


  

	
	<iframe allow="autoplay *; encrypted-media *; fullscreen *; clipboard-write" frameborder="0" height="450" style="width:100%;max-width:660px;overflow:hidden;border-radius:10px;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/nz/playlist/heavy-rotation-mix/pl.pm-20e9f373919da0803092f207f602b9a3"></iframe>




<script>
    // Function to fetch weather data
    function getWeather() {
        // Your OpenWeatherMap API key
        const apiKey = "1def22ce2b0dcb06bec08ed98beda671";
        // City to get weather for
        const city = "Auckland,nz";
        // API endpoint
        const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;

        // Fetch weather data
        fetch(apiUrl)
            .then(response => response.json())
            .then(data => {
                // Extract weather condition and temperature
                const weatherCondition = data.weather[0].description;
                const temperature = data.main.temp;

                // Display weather information
                const weatherInfoDiv = document.getElementById("weatherInfo");
                weatherInfoDiv.innerHTML = `${weatherCondition} and ${temperature}°C`;
            })
            .catch(error => {
                console.error('Error fetching weather data:', error);
                // Display error message
                const weatherInfoDiv = document.getElementById("weatherInfo");
                weatherInfoDiv.innerHTML = "<p>Failed to fetch weather data. Please try again later.</p>";
            });
    }

    // Call the function to fetch weather when the page loads
    window.onload = getWeather;
</script>


<script>
// Function to calculate the time difference in years with 9 decimal places
function getTimeDifference(startDate) {
    var currentDate = new Date();
    var difference = currentDate - startDate;

    var years = difference / (1000 * 60 * 60 * 24 * 365.25); // Convert milliseconds to years
    years = parseFloat(years.toFixed(9)); // Round to 9 decimal places

    return years;
}

// Function to update the counter
function updateCounter() {
    var startDate = new Date(1994, 3, 22, 7, 0, 0); // 7am, April 22, 1994
    var difference = getTimeDifference(startDate);

    var counterElement = document.getElementById('counter');
    counterElement.textContent = difference;

    // Update the counter every millisecond
    setTimeout(updateCounter, 1);
}

// Initial update
updateCounter();
</script>


</div>

	</body>

	

</html>
	